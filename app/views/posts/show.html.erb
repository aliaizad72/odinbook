<%= render 'shared/navbar' %>
<%= render "shared/flash" %>
<div class="relative flex flex-col bg-white shadow-sm border border-slate-200 rounded-lg w-2/3 mx-auto">
  <div class="p-4 pb-2 flex flex-col gap-0.5 justify-center" >
    <%= link_to "@#{@post.user.username}", profile_path(@post.user), class: "mb-2 text-gray-700 transition hover:text-blue-700" %>
    <p class="text-gray-800">
      <%= link_to "#{@post.body}", post_path(@post), class: "text-lg" %>
    </p>
  </div>
  <%= content_tag :div, "#{pluralize(@post.likes.count, 'like')}", class: "text-slate-600 px-4 pb-1 text-sm" %>
  <div class="flex justify-between mx-3 border-t border-slate-200 pb-3 pt-2 px-1">
    <div class="flex gap-3 text-slate-600">
      <% if current_user.liked_posts.include?(@post) %>
        <%= link_to "Unlike", unlike_path(@post), data: { turbo_method: :delete }, class: " text-blue-700 transition hover:text-slate-600" %>
      <% else %>
        <%= link_to "Like", like_path(@post), data: { turbo_method: :post }, class: "transition hover:text-blue-700" %>
      <% end %>
      <a href="" class="transition hover:text-blue-700">Comment</a>
    </div>
    <div class="text-base text-slate-600 font-light">
      <%= @post.created_at.strftime("%H:%M, #{@post.created_at.day.ordinalize} %B %Y") %>
    </div>
  </div>
</div>
